ument.getElementById('expAmount').value;
      const category = document.getElementById('expCategory').value;
      if (!amount || !category) return alert('Заполните все поля');

      fetch(API_URL, {
        method: 'POST',
        body: JSON.stringify({
          type: 'expense',
          date: new Date().toISOString().split('T')[0],
          amount: parseFloat(amount),
          category,
          note: document.getElementById('expNote').value
        })
      })
      .then(r => r.json())
      .then(() => {
        alert('Расход добавлен!');
        location.reload();
      })
      .catch(e => {
        alert('Ошибка: не удалось добавить расход');
        console.error(e);
      });
    }

    function addIncome() {
      const amount = document.getElementById('incAmount').value;
      const source = document.getElementById('incSource').value;
      if (!amount || !source) return alert('Заполните все поля');

      fetch(API_URL, {
        method: 'POST',
        body: JSON.stringify({
          type: 'income',
          date: new Date().toISOString().split('T')[0],
          amount: parseFloat(amount),
          source,
          note: document.getElementById('incNote').value
        })
      })
      .then(r => r.json())
      .then(() => {
        alert('Доход добавлен!');
        location.reload();
      })
      .catch(e => {
        alert('Ошибка: не удалось добавить доход');
        console.error(e);
      });
    }

    function addWish() {
      const name = document.getElementById('wishName').value;
      const cost = document.getElementById('wishCost').value;
      if (!name || !cost) return alert('Заполните все поля');

      fetch(API_URL, {
        method: 'POST',
        body: JSON.stringify({
          type: 'wish',
          name,
          cost: parseFloat(cost),
          priority: document.getElementById('wishPriority').value
        })
      })
      .then(r => r.json())
      .then(() => {
        alert('Желание добавлено!');
        location.reload();
      })
      .catch(e => {
        alert('Ошибка: не удалось добавить желание');
        console.error(e);
      });
    }

    window.onload = load;
  </script>
</body>
</html>
